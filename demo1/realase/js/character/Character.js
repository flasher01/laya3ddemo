var __extends=this&&this.__extends||function(){var t=function(e,a){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(e,a)};return function(e,a){function i(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),Character=function(t){function e(e,a){var i=t.call(this)||this;return i.bMainRole=!1,i.pos2D=new Laya.Vector3,i.convertLocalToGlobalPoint=new Laya.Point,i.fromActionState="",i.toActionState="",i._loadNu=0,i._completeLoadNu=0,i._vec33D=new Laya.Vector3,i._pTargetPosVec3=new Laya.Vector3,i._loodOutVec3=new Laya.Vector3,i._renderQuenen=0,i._alpha=1,i._materials=new Array,i._renderQuenen=a,i._pRoleSp3D=new Laya.Sprite3D,e&&(i._pRoleSp3D.transform.localPosition=e,i._pFightVec3Pos=e.clone()),i.pos2D=new Laya.Vector3,SceneManager.instance.bInFight&&(i._bloodBar=new Laya.Image,i._bloodBarBg=new Laya.Image,i._bloodBar.texture=Laya.loader.getRes("res/scene2d/bloodBar.png"),i._bloodBarBg.texture=Laya.loader.getRes("res/scene2d/bloodBarBg.png"),i._bloodBar.width=500,i._bloodBar.height=5700/54,i._bloodBarBg.width=500,i._bloodBarBg.height=5700/54,SceneManager.instance.effectLayer2D.addChild(i._bloodBarBg),SceneManager.instance.effectLayer2D.addChild(i._bloodBar),Laya.timer.frameLoop(1,i,i._updateBloodBar)),i._hitedDamageTxt=new Laya.Label,i._hitedDamageTxt.fontSize=30,i._hitedDamageTxt.color="#f60d09",i._hitedDamageTxt.strokeColor="#000000",i._hitedDamageTxt.bold=!0,i._hitedDamageTxt.visible=!1,SceneManager.instance.effectLayer2D.addChild(i._hitedDamageTxt),i._skillWordTxt=new Laya.Label,i._skillWordTxt.fontSize=25,i._skillWordTxt.color="#0bd413",i._skillWordTxt.strokeColor="#000000",i._skillWordTxt.bold=!0,i._skillWordTxt.visible=!1,SceneManager.instance.effectLayer2D.addChild(i._skillWordTxt),i.lifeState="alive",i}return __extends(e,t),Object.defineProperty(e.prototype,"roleSp3D",{get:function(){return this._pRoleSp3D},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return this._pRoleSp3D.transform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._pRoleSp3D.name},set:function(t){this._pRoleSp3D&&(this._pRoleSp3D.name=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"agentSprite2D",{get:function(){return this._pAgentSprite2D},set:function(t){t&&t!=this._pAgentSprite2D&&this.pAIMoveScript&&(this._pAgentSprite2D=t,this.pAIMoveScript.startup(this._pAgentSprite2D))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){if(this._alpha!==t)for(var e=0;e<this._materials.length;e++)this._materials[e].renderMode=Laya.StandardMaterial.RENDERMODE_TRANSPARENT,this._materials[e].albedo=new Laya.Vector4(1,1,1,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ghost",{set:function(t){t?(this._startGhost(),Laya.timer.loop(100,this,this._startGhost)):Laya.timer.clear(this,this._startGhost)},enumerable:!0,configurable:!0}),e.prototype.clearSelf=function(){this.pos2D=null,this.convertLocalToGlobalPoint=null,this.pAIFightScript.clear(),this.pAIFightScript=null,this._pRoleAni=null,this._pBodyPartAni=null,this._pHorsePartAni=null,this._pWingPartAni=null,this._characterEuler=null,this._pCharacterMoveScript=null,this._materials=null,this._pWeaponPart&&(this._pWeaponPart.parent.removeChild(this._pWeaponPart),this._pWeaponPart.destroy(),this._pWeaponPart=null),this._pWingPart&&(this._pWingPart.parent.removeChild(this._pWingPart),this._pWingPart.destroy(),this._pWingPart=null),this._pBodyPart&&(this._pBodyPart.parent.removeChild(this._pBodyPart),this._pBodyPart.destroy(),this._pBodyPart=null),this._pHorsePart&&(this._pHorsePart.parent.removeChild(this._pHorsePart),this._pHorsePart.destroy(),this._pHorsePart=null),this._pAgentSprite2D&&(this._pAgentSprite2D.parent.removeChild(this._pAgentSprite2D),this._pAgentSprite2D.destroy(),this._pAgentSprite2D=null),this._hitedDamageTxt&&(this._hitedDamageTxt.parent.removeChild(this._hitedDamageTxt),this._hitedDamageTxt.destroy(),this._hitedDamageTxt=null),this._skillWordTxt&&(this._skillWordTxt.parent.removeChild(this._skillWordTxt),this._skillWordTxt.destroy(),this._skillWordTxt=null),this._bloodBar&&(this._bloodBar.parent.removeChild(this._bloodBar),this._bloodBar.destroy(),this._bloodBar=null),this._bloodBarBg&&(this._bloodBarBg.parent.removeChild(this._bloodBarBg),this._bloodBarBg.destroy(),this._bloodBarBg=null),this._pRoleSp3D&&(Laya.Tween.clearAll(this.roleSp3D.parent.parent),this._pRoleSp3D.parent.removeChild(this._pRoleSp3D),this._pRoleSp3D.destroy(),this._pRoleSp3D=null),this._vec33D=null,this._pFightVec3Pos=null,this._pTargetPosVec3=null,Laya.timer.clear(this,this._updateBloodBar)},e.prototype.hitedFireBody=function(){for(var t=0;t<this.roleSp3D.numChildren;t++)this._fireBodyMaterial(this.roleSp3D.getChildAt(t).getChildAt(0).getChildAt(0))},e.prototype._fireBodyMaterial=function(t){var e,a=new FireBodyMaterial,i=t;t instanceof Laya.SkinnedMeshSprite3D?(e=i.skinnedMeshRender.material,Laya.timer.once(250,this,function(){i&&(i.skinnedMeshRender.material=e)}),a.diffuseTexture=i.skinnedMeshRender.material.diffuseTexture,i.skinnedMeshRender.material=a):t instanceof Laya.MeshSprite3D&&(e=i.meshRender.material,Laya.timer.once(250,this,function(){i&&(i.skinnedMeshRender.material=e)}),a.diffuseTexture=i.meshRender.material.diffuseTexture,i.meshRender.material=a);for(var r=0;r<t.numChildren;r++){var o=t.getChildAt(r);o instanceof Laya.SkinnedMeshSprite3D?(e=i.skinnedMeshRender.material,Laya.timer.once(250,this,function(){i&&(i.skinnedMeshRender.material=e)}),a.diffuseTexture=o.skinnedMeshRender.material.diffuseTexture,o.skinnedMeshRender.material=a):o instanceof Laya.MeshSprite3D&&(e=i.meshRender.material,Laya.timer.once(250,this,function(){i&&(i.skinnedMeshRender.material=e)}),a.diffuseTexture=o.meshRender.material.diffuseTexture,o.meshRender.material=a),this._fireBodyMaterial(o)}},e.prototype.hitedShowDamageNu=function(t){var e=this;Laya.Tween.clearAll(this._hitedDamageTxt),this._hitedDamageTxt.visible=!0;var a=new Laya.Vector3;SceneManager.instance.orthographicCoordToScreenCoord(this._pRoleSp3D.transform.position,a),this._hitedDamageTxt.text="-"+t,this._hitedDamageTxt.x=a.x,this._hitedDamageTxt.y=a.y-50,Laya.Tween.to(this._hitedDamageTxt,{x:a.x,y:a.y-100},800,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){e._hitedDamageTxt.visible=!1})),this._bloodBar.scaleX=this.data.life/this.data.maxLife,this._bloodBar.scaleX<0&&(this._bloodBar.scaleX=0)},e.prototype.skillShowWord=function(t){var e=this;Laya.Tween.clearAll(this._skillWordTxt),this._skillWordTxt.visible=!0;var a=new Laya.Vector3;SceneManager.instance.orthographicCoordToScreenCoord(this._pRoleSp3D.transform.position,a),this._skillWordTxt.text=t,this._skillWordTxt.x=a.x,this._skillWordTxt.y=a.y-50,Laya.Tween.to(this._skillWordTxt,{x:a.x,y:a.y-100},800,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){e._skillWordTxt.visible=!1}))},e.prototype.skillAttack=function(t){this.pAIFightScript.skillAttack(t)},e.prototype.normalAttack=function(t){this.pAIFightScript.normalAttack(t)},e.prototype.turnTo=function(t){this._pRoleSp3D.transform.localRotationEuler=new Laya.Vector3(0,t,0)},e.prototype.setTargetPos=function(t){this._pCharacterMoveScript.setTargetPos(t)},e.prototype.changeAction=function(t){SceneManager.instance.bInFight?(this._pWeaponPartAni&&t==CharacterActionStateConst.DIE&&(this._pBodyPartAni.unLinkSprite3DToAvatarNode(this._pWeaponPart),this._pWeaponPartAni.play(t)),this._pBodyPartAni&&this._pBodyPartAni.play(t,2),this._pHorsePartAni&&this._pHorsePartAni.play(t,2)):(this._pBodyPartAni&&this._pBodyPartAni.play(t,1),this._pHorsePartAni&&this._pHorsePartAni.play(t))},e.prototype.changePart=function(t,a){if(a==e.BODY)this._createBody(t);else if(a==e.WING)this._createWing(t);else if(a==e.WEAPON)this._createWeapon(t);else{if(a!=e.HORSE)throw new Error("change part error!error partId:"+t+",error partType:"+a);this._createHorse(t)}},e.prototype.createCharacter=function(t,a,i,r){this._horseID=a,this._loadNu=0,this._completeLoadNu=0,t&&(this._loadNu++,this._createBody(e.BODY_RES_URL+""+t+"/"+t+".lh")),a&&(this._loadNu++,this._createHorse(e.HORSE_RES_URL+""+a+"/"+a+".lh")),i&&(this._loadNu++,this._createWing(e.WING_RES_URL+""+i+"/"+i+".lh")),r&&(this._loadNu++,this._createWeapon(e.WEAPON_RES_URL+""+r+"/"+r+".lh"))},e.prototype._createBody=function(t){Laya.loader.getRes(t)?this._bodyComplete(t):Laya.loader.create(t,Laya.Handler.create(this,this._bodyComplete,[t]),null,Laya.Sprite3D)},e.prototype._createHorse=function(t){Laya.loader.getRes(t)?this._horseComplete(t):Laya.loader.create(t,Laya.Handler.create(this,this._horseComplete,[t]),null,Laya.Sprite3D)},e.prototype._createWing=function(t){Laya.loader.getRes(t)?this._wingComplete(t):Laya.loader.create(t,Laya.Handler.create(this,this._wingComplete,[t]),null,Laya.Sprite3D)},e.prototype._createWeapon=function(t){Laya.loader.getRes(t)?this._weaponComplete(t):Laya.loader.create(t,Laya.Handler.create(this,this._weaponComplete,[t]),null,Laya.Sprite3D)},e.prototype._findMeshSp3D=function(t){for(var e=0;e<t.numChildren;e++){var a=t.getChildAt(e);a instanceof Laya.SkinnedMeshSprite3D||a instanceof Laya.MeshSprite3D?this._addToMaterials(t.getChildAt(e)):a instanceof Laya.Sprite3D&&this._findMeshSp3D(a)}},e.prototype._bodyComplete=function(t){this._pBodyPart=Laya.loader.getRes(t).clone();var a=this._pBodyPart.getChildAt(0);if(!a)throw Error("body骨骼信息错误");this._pBodyPartAni=a.getComponentByType(Laya.Animator);var i=this._pBodyPartAni.getClip(CharacterActionStateConst.IDLE);if(this._pBodyPartAni.play(CharacterActionStateConst.IDLE),i||(i=this._pBodyPartAni.getClip("stand"),this._pBodyPartAni.play("stand")),i.islooping=!0,this._pWingPart){a.addChild(this._pWingPart),this._pBodyPartAni.linkSprite3DToAvatarNode("wing",this._pWingPart);var r=this._pBodyPartAni._avatarNodeMap.wing._parent;if(!r)throw new Error("wing挂点有问题!");h=new Laya.Matrix4x4;r.transform._worldMatrix?h.elements=r.transform.getWorldMatrix():h.elements=this._pBodyPartAni._avatarNodeMap.wing.transform.getWorldMatrix();l=MatrixUtil.transformPosition(h.elements,this._pBodyPartAni._avatarNodeMap.wing.transform._localPosition);this._pWingPart.transform.localPosition=this._getBonePointPos(r,l)}if(this._pWeaponPart){a.addChild(this._pWeaponPart),this._pBodyPartAni.linkSprite3DToAvatarNode("weapon",this._pWeaponPart);var o=this._pBodyPartAni._avatarNodeMap.weapon._parent;if(!o)throw new Error("weapon挂点有问题!");h=new Laya.Matrix4x4;o.transform._worldMatrix?h.elements=o.transform.getWorldMatrix():h.elements=this._pBodyPartAni._avatarNodeMap.weapon.transform.getWorldMatrix();l=MatrixUtil.transformPosition(h.elements,this._pBodyPartAni._avatarNodeMap.weapon.transform._localPosition);this._pWeaponPart.transform.localPosition=this._getBonePointPos(o,l)}if(this._pHorsePart){var n=this._pHorsePart.getChildAt(0);n.addChild(this._pBodyPart),this._pHorsePartAni=n.getComponentByType(Laya.Animator),this._pHorsePartAni.linkSprite3DToAvatarNode("horse",this._pBodyPart);var s=this._pHorsePartAni._avatarNodeMap.horse._parent;if(!s)throw new Error("horse挂点有问题!");var h=new Laya.Matrix4x4;s.transform._worldMatrix?h.elements=s.transform.getWorldMatrix():h.elements=this._pHorsePartAni._avatarNodeMap.horse.transform.getWorldMatrix();var l=MatrixUtil.transformPosition(h.elements,this._pHorsePartAni._avatarNodeMap.horse.transform._localPosition);this._pBodyPart.transform.localPosition=this._getBonePointPos(s,l)}else this._pRoleSp3D.addChild(this._pBodyPart);this._completeLoadNu++,this._loadNu==this._completeLoadNu&&this.event(e.LOAD_COMPLETE),this._pBodyPartAni.on(Laya.Event.STOPPED,this,this._bodyActionComplete),!this._horseID&&this.pAIMoveScript&&this.pAIMoveScript.startup(this._pAgentSprite2D),-1!=t.indexOf("6609")&&this._findMaterial(a.getChildAt(0),e.BODY_RES_URL,6609),this._findMeshSp3D(a)},e.prototype._horseComplete=function(t){this._pHorsePart=Laya.loader.getRes(t).clone();var a=this._pHorsePart.getChildAt(0);this._findMeshSp3D(a),this._pHorsePartAni=a.getComponentByType(Laya.Animator),this._pHorsePartAni.playOnWake=!1,this._pHorsePartAni.play(HorseActionStateConst.IDLE);var i=this._pHorsePartAni.getClip("idle");if(i&&(i.islooping=!0),(i=this._pHorsePartAni.getClip("run"))&&(i.islooping=!0),this._pBodyPart){a.addChild(this._pBodyPart),this._pHorsePartAni.linkSprite3DToAvatarNode("horse",this._pBodyPart);var r=this._pHorsePartAni._avatarNodeMap.horse._parent;if(!r)throw new Error("horse挂点有问题!");var o=new Laya.Matrix4x4;r.transform._worldMatrix?o.elements=r.transform.getWorldMatrix():o.elements=this._pHorsePartAni._avatarNodeMap.horse.transform.getWorldMatrix();var n=MatrixUtil.transformPosition(o.elements,this._pHorsePartAni._avatarNodeMap.horse.transform._localPosition);this._pBodyPart.transform.localPosition=this._getBonePointPos(r,n)}this._pRoleSp3D.addChild(this._pHorsePart),this._completeLoadNu++,this._loadNu==this._completeLoadNu&&this.event(e.LOAD_COMPLETE),this.pAIMoveScript&&(this._pHorsePartAni.play(HorseActionStateConst.RUN),this.pAIMoveScript.startup(this._pAgentSprite2D))},e.prototype._wingComplete=function(t){this._pWingPart=Laya.loader.getRes(t).clone();var a=this._pWingPart.getChildAt(0),i=a.getComponentByType(Laya.Animator);i.play(WingActionStateConst.IDLE),this._pWingPartAni=i;var r=i.getClip("idle");if(r&&(r.islooping=!0),this._pBodyPart){var o=this._pBodyPart.getChildAt(0);o.addChild(this._pWingPart),this._pBodyPartAni=o.getComponentByType(Laya.Animator),this._pBodyPartAni.linkSprite3DToAvatarNode("wing",this._pWingPart);var n=this._pBodyPartAni._avatarNodeMap.wing._parent;if(!n)throw new Error("wing挂点有问题!");var s=new Laya.Matrix4x4;n.transform._worldMatrix?s.elements=n.transform.getWorldMatrix():s.elements=this._pBodyPartAni._avatarNodeMap.wing.transform.getWorldMatrix();var h=MatrixUtil.transformPosition(s.elements,this._pBodyPartAni._avatarNodeMap.wing.transform._localPosition);this._pWingPart.transform.localPosition=this._getBonePointPos(n,h)}this._completeLoadNu++,this._loadNu==this._completeLoadNu&&this.event(e.LOAD_COMPLETE),-1!=t.indexOf("6437")&&this._findMaterial(a.getChildAt(0),e.WING_RES_URL,6437),this._findMeshSp3D(a)},e.prototype._weaponComplete=function(t){this._pWeaponPart=Laya.loader.getRes(t).clone();var a=this._pWeaponPart.getChildAt(0);if(a.transform.localRotationEuler=new Laya.Vector3(0,0,125),this._pWeaponPartAni=a.getComponentByType(Laya.Animator),this._pWeaponPartAni.playOnWake=!1,this._findMeshSp3D(a),this._pBodyPart){var i=this._pBodyPart.getChildAt(0);i.addChild(this._pWeaponPart),this._pBodyPartAni=i.getComponentByType(Laya.Animator),this._pBodyPartAni.linkSprite3DToAvatarNode("weapon",this._pWeaponPart);var r=this._pBodyPartAni._avatarNodeMap.weapon._parent;if(!r)throw new Error("weapon挂点有问题!");var o=new Laya.Matrix4x4;r.transform._worldMatrix?o.elements=r.transform.getWorldMatrix():o.elements=this._pBodyPartAni._avatarNodeMap.weapon.transform.getWorldMatrix();var n=MatrixUtil.transformPosition(o.elements,this._pBodyPartAni._avatarNodeMap.weapon.transform._localPosition);this._pWeaponPart.transform.localPosition=this._getBonePointPos(r,n)}this._completeLoadNu++,this._loadNu==this._completeLoadNu&&this.event(e.LOAD_COMPLETE)},e.prototype._bodyActionComplete=function(){SceneManager.instance.bInFight?this.fromActionState==CharacterActionStateConst.ATTACK&&this.toActionState==CharacterActionStateConst.IDLE?(Laya.timer.clear(this,this._startGhost),this._pTargetPosVec3=this.transform.localPosition.clone(),Laya.Tween.to(this._pTargetPosVec3,{x:this._pFightVec3Pos.x,y:this._pFightVec3Pos.y,z:this._pFightVec3Pos.z},200,Laya.Ease.linearNone,Laya.Handler.create(this,this._moveComplete)),Laya.timer.frameLoop(1,this,this._modifyPosition),this._pBodyPartAni.play(CharacterActionStateConst.IDLE)):this.fromActionState==CharacterActionStateConst.SKILL&&this.toActionState==CharacterActionStateConst.IDLE?(this._pBodyPartAni.play(CharacterActionStateConst.IDLE),Laya.timer.once(500,this,function(){AIFightControl.instance.nextFightRound()})):this.fromActionState==CharacterActionStateConst.HIT&&this.toActionState==CharacterActionStateConst.IDLE?this._pBodyPartAni.play(CharacterActionStateConst.IDLE):this.toActionState==CharacterActionStateConst.DIE?(this._pBodyPartAni.stop(),this._pHorsePartAni&&this._pHorsePartAni.stop(),this._pWingPartAni&&this._pWingPartAni.stop(),this._pWeaponPartAni&&this._pWeaponPartAni.stop(),this._playDieFade()):""!=this.fromActionState&&""!=this.toActionState||this._pBodyPartAni.play(CharacterActionStateConst.IDLE):this._pBodyPartAni.play(CharacterActionStateConst.RUN)},e.prototype._modifyPosition=function(){this.transform.localPosition=this._pTargetPosVec3},e.prototype._moveComplete=function(){Laya.timer.clear(this,this._modifyPosition),AIFightControl.instance.nextFightRound()},e.prototype._addToMaterials=function(t){var e;if(e=t.skinnedMeshRender instanceof Laya.SkinnedMeshRender?t.skinnedMeshRender.material:t.meshRender.material,this._renderQuenen){t.transform.position;e.renderQueue=this._renderQuenen,console.log(e.renderQueue),console.log(t.transform.position.elements)}this._materials.push(e);for(var a=0;a<t.numChildren;a++)this._findMeshSp3D(t.getChildAt(a))},e.prototype._playDieFade=function(){this.alpha=.5},e.prototype._findMaterial=function(t,e,a){var i=new CustomMaterialSimple;i.diffuseTexture=Laya.loader.getRes(e+a+"/Assets/assets/texture/"+a+".jpg"),t instanceof Laya.SkinnedMeshSprite3D?t.skinnedMeshRender.material=i:t instanceof Laya.MeshSprite3D&&(t.meshRender.material=i);for(var r=0;r<t.numChildren;r++){var o=t.getChildAt(r);o instanceof Laya.SkinnedMeshSprite3D?o.skinnedMeshRender.material=i:o instanceof Laya.MeshSprite3D&&(o.meshRender.material=i),this._findMaterial(o,e,a)}},e.prototype._getBonePointPos=function(t,e){for(;t&&t.transform._worldMatrix&&t._parent;)t=t._parent;var a=new Laya.Matrix4x4;return t.transform._entity.worldMatrix.invert(a),MatrixUtil.transformPosition(a.elements,e.elements)},e.prototype._startGhost=function(){var t=this.roleSp3D.clone();SceneManager.instance.characterFightLayer3D.addChild(t);var a=t.getChildAt(0).getChildAt(0).getComponentByType(Laya.Animator),i=this.roleSp3D.getChildAt(0).getChildAt(0).getComponentByType(Laya.Animator);if(i){var r=i.currentPlayClip;a.play(r?r.name:null),a.playbackTime=r?i.currentPlayTime:0,Laya.timer.once(10,this,function(){a.paused=!0})}for(var o=0;o<t.numChildren;o++)for(var n=t.getChildAt(o).getChildAt(0),s=0;s<n.numChildren;s++)this._ghostMaterial(n.getChildAt(s),e.BODY_RES_URL,t.name);Laya.timer.once(300,this,function(){SceneManager.instance.characterFightLayer3D.removeChild(t),t.destroy(),t=null})},e.prototype._ghostMaterial=function(t,e,a){var i=new GhostMaterial;i.albedo=new Laya.Vector4(1,215/255,0,1);var r=t;t instanceof Laya.SkinnedMeshSprite3D?r.skinnedMeshRender.material=i:t instanceof Laya.MeshSprite3D&&(r.meshRender.material=i);for(var o=0;o<t.numChildren;o++){var n=t.getChildAt(o);n instanceof Laya.SkinnedMeshSprite3D?n.skinnedMeshRender.material=i:n instanceof Laya.MeshSprite3D&&(n.meshRender.material=i),this._ghostMaterial(n,e,a)}},e.prototype._updateBloodBar=function(){this.roleSp3D&&(SceneManager.instance.orthographicCoordToScreenCoord(this._pRoleSp3D.transform.position,this._loodOutVec3),this._bloodBar.x=this._loodOutVec3.x-20,this._bloodBar.y=this._loodOutVec3.y-100,this._bloodBarBg.x=this._loodOutVec3.x-20,this._bloodBarBg.y=this._loodOutVec3.y-100)},e.BODY=1,e.WING=2,e.WEAPON=3,e.HORSE=4,e.LOAD_COMPLETE="loadComplete",e.BODY_RES_URL="res/character/",e.HORSE_RES_URL="res/horse/",e.WING_RES_URL="res/wing/",e.WEAPON_RES_URL="res/weapon/",e}(Laya.Sprite3D);